\documentclass[a4paper,11pt,dvipdfmx]{jsarticle}

%--- 数式・記号関連 ---
\usepackage{mathtools} % amsmathの拡張（amsmathも自動で読み込まれます）
\usepackage{amssymb,amsfonts,amsthm} % AMS系フォント・定理
\usepackage{bm,bbm}    % 太字ベクトル
\usepackage{physics}   % 物理系コマンド (dv, pdv, ketなど)
\usepackage{stmaryrd}  % 特殊記号 (llbracketなど)
\usepackage[mathscr]{eucal} % 花文字 (\mathscr)
\usepackage{color}   % 色指定
\usepackage{cancel}

%--- グラフィック・描画 ---
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{positioning,intersections,calc,arrows.meta,math,decorations.markings,cd,angles}
\usepackage{quiver} % 可換図式
\usepackage{ytableau}  % ヤング図形
\ytableausetup{centertableaux}

%--- レイアウト・装飾 ---
\usepackage{ascmac}    % screen環境など
\usepackage{fancybox}  % 枠線
\usepackage{tcolorbox} % 高機能な枠
\tcbuselibrary{skins,breakable,theorems}
\usepackage{float}     % hereの代わり
\usepackage{multicol, multirow} % 表の複数行・複数列結合

%--- プログラム・アルゴリズム ---
\usepackage{algorithm, algpseudocode}
\usepackage{listings}

%--- 箇条書き ---
\usepackage{enumerate}
% \usepackage{enumitem} 


%--- リンク ---
\usepackage{url}
\usepackage[setpagesize=false,bookmarks=true,bookmarksdepth=tocdepth,bookmarksnumbered=true,colorlinks=true,allcolors=blue,pdftitle={},pdfsubject={},pdfauthor={},pdfkeywords={}]{hyperref}
\usepackage{pxjahyper} % 日本語のしおり文字化け防止


%================================================
% 修正パッチ
%================================================

%--- physicsパッケージのdvコマンド修正 ---
\DeclareDocumentCommand\derivative{ s o m g d() }{
    \IfBooleanTF{#1}
    {\let\fractype\flatfrac}
    {\let\fractype\frac}
    \IfNoValueTF{#4}
    {
        \IfNoValueTF{#5}
        {\fractype{\diffd \IfNoValueTF{#2}{}{^{#2}}}{\diffd #3\IfNoValueTF{#2}{}{^{#2}}}}
        {\fractype{\diffd \IfNoValueTF{#2}{}{^{#2}}}{\diffd #3\IfNoValueTF{#2}{}{^{#2}}} \argopen(#5\argclose)}
    }
    {\fractype{\diffd \IfNoValueTF{#2}{}{^{#2}} #3}{\diffd #4\IfNoValueTF{#2}{}{^{#2}}}\IfValueT{#5}{(#5)}}
}

%================================================
% マクロ定義 (Implemented by vll)
%================================================

%--- 一括定義用マクロ (Metaprogramming) ---
\def\vllinnerapply#1@#2,#3\vllend{\csname#1\endcsname{#2}\ifx\vlllast#3\else\vllinnerapply#1@#3\vllend\fi}
\def\vllapply#1#2{\vllinnerapply#1@#2,\vlllast\vllend}
\newcommand{\vllDeclareMathOperator}[1]{\expandafter\DeclareMathOperator\expandafter{\csname#1\endcsname}{#1}}
\newcommand{\vllDeclareMathbb}[1]{\expandafter\newcommand\expandafter{\csname#1\endcsname}{\mathbb{#1}}}

%--- 演算子・文字の一括定義 ---

\vllapply{vllDeclareMathOperator}{LHS,RHS,Log} % 基本
\vllapply{vllDeclareMathOperator}{adj,diag,sgn,per,Sym,Alt,Span,M,GL,SL,SO,SU,Sp} % 線形代数，行列
\vllapply{vllDeclareMathOperator}{Hom,End,Aut,Ker,Coker,Ext,Tor,Ht,id,Id,ch,Ob,Nat} % 代数1
\vllapply{vllDeclareMathOperator}{Frac,Spec,Proj,Ann,Ass,Supp} % 代数2(環論・代数幾何)
\vllapply{vllDeclareMathOperator}{Lie,Ad,ad,Ind,triv,perm} % 代数3(リー群，表現論)
\vllapply{vllDeclareMathOperator}{Frob,Gal,Vol,Disc,cond,sep,Sel,Div,PDiv,Pic,Jac,Cl,ord,new,old,DR} % 整数論・保型形式
\vllapply{vllDeclareMathOperator}{supp,loc,Var,Cov,hol,st} % 解析・確率
\vllapply{vllDeclareMathOperator}{conv,Gr,Graff,diam,dist}
\vllapply{vllDeclareMathbb}{R,N,Z,Q,C,F,K,T}

%--- 独自コマンド ---
\newcommand{\Iff}{\Longleftrightarrow}
\newcommand{\To}{\Longrightarrow}
\newcommand{\From}{\Longleftarrow}
\newcommand{\sumprime}{\sideset{}{^{'}}\sum}
\newcommand{\trans}{{}^t\!}
\newcommand{\p}{\mathfrak{p}}
\newcommand{\rin}{\rotatebox{90}{$\in$}}
\newcommand{\iid}{\overset{\text{i.i.d}}{\sim}}
\newcommand{\const}{\mathrm{const}}
\newcommand{\isomto}{\xrightarrow{\sim}}
\newcommand{\co}{\colon}

%--- 括弧 ---
\DeclarePairedDelimiter{\ang}{\langle}{\rangle} % < > angle brackets
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor} % floor function
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil} % ceil function
\DeclarePairedDelimiter{\round}{\lfloor}{\rceil}
\DeclarePairedDelimiterX{\set}[2]{\lbrace}{\rbrace}{#1\,\delimsize\vert\,#2}

%--- アルゴリズム ---
\renewcommand{\Return}{\State\algorithmicreturn\ }
\algrenewcommand\textproc{}

\lstset{
    basicstyle={\ttfamily},
    identifierstyle={\small},
    commentstyle={\smallitshape},
    keywordstyle={\small\bfseries},
    ndkeywordstyle={\small},
    stringstyle={\small\ttfamily},
    frame={tb},
    breaklines=true,
    columns=[l]{fullflexible},
    numbers=left,
    xrightmargin=0zw,
    xleftmargin=3zw,
    numberstyle={\scriptsize},
    stepnumber=1,
    numbersep=1zw,
    lineskip=-0.5ex
}

%================================================
% TikZ
%================================================

% 1. 複素積分 (積分路の矢印，極の×印，分岐の波線)
\tikzset{->-/.style={decoration={
    markings,
    mark=at position #1 with {\arrow{>}}},postaction={decorate}}}
\tikzset{cross/.style={cross out, draw=black, minimum size=2*(#1-\pgflinewidth), inner sep=0pt, outer sep=0pt},
    %default radius will be 1pt. 
    cross/.default={4pt}}
\tikzset{waved/.style={decorate, decoration={snake, segment length=1mm, amplitude=0.3mm}}}


%================================================
% 定理環境の設定 (tcolorbox)
%================================================
\theoremstyle{definition}

\newcounter{thmcnt}[section] % 定理用カウンター
\newcounter{probcnt}[section] % 問題用カウンター

% デザインの設定
\tcbset{
    blacklinestyle/.style={
        enhanced, breakable,
        colback=white, colframe=white, coltitle=black,
        borderline west={2pt}{-2pt}{black},
        fonttitle=\bfseries,
    }
}

% 定理環境定義マクロ
\newcommand{\DeclareMyTcbTheorem}[3][use counter=thmcnt, number within=section]{%
  \newtcbtheorem[#1]{#2}{#3}{blacklinestyle}{#2}%
}

% 3. 環境定義
\DeclareMyTcbTheorem{thm}{定理}
\DeclareMyTcbTheorem{lem}{補題}
\DeclareMyTcbTheorem{dfn}{定義}
\DeclareMyTcbTheorem{cor}{系}
\DeclareMyTcbTheorem{prop}{命題}
\DeclareMyTcbTheorem{ex}{例}
\DeclareMyTcbTheorem{conj}{予想}
\DeclareMyTcbTheorem{lemlem}{補助主張}
\DeclareMyTcbTheorem{rem}{注意}
\DeclareMyTcbTheorem{fact}{事実}
\DeclareMyTcbTheorem{obs}{観察}
\DeclareMyTcbTheorem{prob}{問題}

% claim環境
\newenvironment{claim}[1][]{
  \par\vspace{1ex}
  \noindent\textbf{\underline{claim}}\ifstrempty{#1}{}{ (#1)}\ \itshape% 見出し
}{
  \par\vspace{1ex}
}
\newenvironment{claimproof}{
    \par\pushQED{\qed}% amsthmのQEDスタック機能を利用
    \renewcommand{\qedsymbol}{$\diamondsuit$}% 終了記号をダイヤに変更
    \begin{list}{}{%
        \setlength{\leftmargin}{1.5em}% インデント幅
        \setlength{\labelwidth}{0pt}%
        \setlength{\itemindent}{0pt}%
    }
    \item[\hskip \labelsep \itshape \!\!\!\!\text{Proof.}]% 見出し (証明.)
}{
  \popQED\end{list}
}


%================================================
% 表示設定
%================================================
\mathtoolsset{showonlyrefs=true} % 参照されていない数式番号を非表示
\allowdisplaybreaks % 数式環境内での改ページ許可

%================================================
% 本文
%================================================
\begin{document}

\title{}
\author{dragoemon}
\date{\today}
\maketitle




\end{document}